namespace SpriteKind {
    export const speech = SpriteKind.create()
    export const test = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    facingUp = true
    facingLeft = false
    facingRight = false
    facingDown = false
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (facingUp == true) {
        testAttack = sprites.create(img`
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f f f f f f f f f f f f f f f f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            `, SpriteKind.Projectile)
        testAttack.setStayInScreen(false)
        testAttack.setFlag(SpriteFlag.AutoDestroy, true)
        testAttack.setVelocity(0, -50)
        testAttack.setPosition(Character.x, Character.y)
    }
    if (facingDown == true) {
        testAttack = sprites.create(img`
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f f f f f f f f f f f f f f f f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            `, SpriteKind.Projectile)
        testAttack.setStayInScreen(false)
        testAttack.setFlag(SpriteFlag.AutoDestroy, true)
        testAttack.setVelocity(0, 50)
        testAttack.setPosition(Character.x, Character.y)
    }
    if (facingRight == true) {
        testAttack = sprites.create(img`
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f f f f f f f f f f f f f f f f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            `, SpriteKind.Projectile)
        testAttack.setStayInScreen(false)
        testAttack.setFlag(SpriteFlag.AutoDestroy, true)
        testAttack.setVelocity(50, 0)
        testAttack.setPosition(Character.x, Character.y)
    }
    if (facingLeft == true) {
        testAttack = sprites.create(img`
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f f f f f f f f f f f f f f f f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            f . . . . . . . . . . . . . . f 
            `, SpriteKind.Projectile)
        testAttack.setStayInScreen(false)
        testAttack.setFlag(SpriteFlag.AutoDestroy, true)
        testAttack.setVelocity(-50, 0)
        testAttack.setPosition(Character.x, Character.y)
    }
})
function startGame () {
    startSprite = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.speech)
    startSprite.setPosition(75, 90)
    startSprite.say("press B to start", 2000)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    facingUp = false
    facingLeft = true
    facingRight = false
    facingDown = false
})
function levelOne () {
    tiles.setTilemap(tilemap`level2`)
    Character = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . f . . . . . f . . . . . 
        . . . f 2 f . . . f 2 f . . . . 
        . . . f 2 f . . . f 2 f . . . . 
        . . 5 f 2 f . . . f 2 f 5 . . . 
        . . 4 5 f . . . . . f 5 4 . . . 
        . . 2 4 5 5 5 5 5 5 5 4 2 . . . 
        . . f 2 4 4 4 4 4 4 4 2 f . . . 
        . . 8 f 2 2 2 2 2 2 2 f 8 . . . 
        . . . 8 f f f f f f f 8 . . . . 
        . . . . 8 8 8 8 8 8 8 . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Player)
    Character.setPosition(100, 90)
    Character.setStayInScreen(true)
    for (let index = 0; index < 1; index++) {
        scene.centerCameraAt(Character.x, Character.y)
    }
}
function startIsOver () {
    started = 1
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    facingUp = false
    facingLeft = false
    facingRight = true
    facingDown = false
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    facingUp = false
    facingLeft = false
    facingRight = false
    facingDown = true
})
let startSprite: Sprite = null
let Character: Sprite = null
let testAttack: Sprite = null
let facingDown = false
let facingRight = false
let facingLeft = false
let facingUp = false
let started = 0
tiles.setTilemap(tilemap`level1`)
startGame()
started = 0
let mySprite = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy)
animation.runImageAnimation(
mySprite,
assets.animation`Idle_Demon`,
50,
true
)
let otherTest = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy)
animation.runImageAnimation(
otherTest,
[img`
    ................................
    ................................
    ...5..5.........................
    ...4............................
    .....4.44.......................
    .....52.52......................
    ....54..242.....................
    ......2452222...................
    .......2452222..................
    ......22242222..................
    .......22554222.................
    .......22255222.................
    ........224542222...............
    ........22f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    2..5...5........................
    .4524.54........................
    .4...2..........................
    ..42.42.........................
    2..5.522........................
    ..4.425222......................
    ..2..224522.....................
    .....522452.....................
    ......2244222...................
    .......2244222..................
    .......22254222.................
    ........22554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    525425254225....................
    42.2.4525.......................
    2.5552.24.......................
    5.2..224........................
    .45224..........................
    .242522.........................
    454425522.......................
    ..22.254422.....................
    ..45.22554222...................
    .......2554222..................
    .......22254222.................
    ........22554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    42242.2.42422425................
    525225422.5425..................
    2.4.425.24..4...................
    5.25254...45....................
    425422.452.2....................
    24.2.24.........................
    25..422225......................
    ..2245222.......................
    25.....2442.....................
    4..54...254222..................
    ..2......254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    4..42.2.4242..25................
    52522.42...425..................
    2...425.24......................
    5..52.4...4.....................
    425422..5..2....................
    .4.2.24.........................
    25..42.225......................
    ..2.45222.......................
    25.....2442.....................
    ....4...254222..................
    .........254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    4..42.2.4242..2.................
    52522.42...42...................
    2...425.24......................
    5..52.4.........................
    425422..5.......................
    .4.2.24.........................
    25..42.22.......................
    ..2.45222.......................
    25.....2442.....................
    ........254222..................
    .........254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    4..42.2.4.42....................
    5252..4....42...................
    2...4.5.24......................
    5..52.4.........................
    425.22..........................
    .4.2.24.........................
    25..42.22.......................
    ..2...222.......................
    .......2442.....................
    ........254222..................
    .........254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    ...4......42....................
    5.52..4....4....................
    ....4....4......................
    5...2.4.........................
    42..............................
    .4...24.........................
    2......22.......................
    ......222.......................
    .......2442.....................
    ........254222..................
    .........254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    ..........4.....................
    5..2............................
    ....4....4......................
    5...2...........................
    ................................
    ................................
    .......22.......................
    ......222.......................
    .......2442.....................
    ........254222..................
    .........254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    ................................
    ................................
    ................................
    ................................
    ................................
    ................................
    .......22.......................
    ......222.......................
    .......2442.....................
    ........254222..................
    .........254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    ................................
    ................................
    ................................
    ................................
    ................................
    .......22.......................
    .......222......................
    ......22222.....................
    ......2244222...................
    .......2254222..................
    ........2254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    ................................
    ................................
    ................................
    ................................
    ......2.........................
    ......2222......................
    .....2244222....................
    .....22454422...................
    .....22255542...................
    .......2245422..................
    .......22254222.................
    .........2554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    ................................
    ................................
    ................................
    ................................
    ................................
    .....22222......................
    .....244422.....................
    .....245542.....................
    ......2455422...................
    ......22455422..................
    ......222454222.................
    ........22554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `,img`
    ................................
    ................................
    .......54.......................
    ...54.2.2.......................
    ......52.4......................
    ....24.2.2......................
    ...5..2.422.....................
    .....245542.....................
    ......2455422...................
    ......22455422..................
    ......222454222.................
    ........22554222................
    .........24542222...............
    .........2f55422f2..............
    .........22f554f22..............
    .........224554222..............
    .........22ffff222..............
    .........2ff42ff22..............
    .........22222222...............
    ..........222222................
    ...........22222................
    ...5...222222222222....5........
    ...5..42222222222222...5........
    .555.24222222222222224.555......
    .55544222.2222222.22424545......
    .5555442...22222...2244455......
    .555444....22222....444455......
    ...........22222................
    ..........2222222...............
    .........222222222..............
    ........22222222222.............
    ........22222222222.............
    .......222222.222222............
    ......ffff22...22ffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    ......fffff.....fffff...........
    .....ffffff.....ffffff..........
    `],
50,
true
)
forever(function () {
    if (controller.B.isPressed() && started == 0) {
        levelOne()
        startIsOver()
    } else if (controller.A.isPressed() && started == 1) {
    	
    }
    controller.moveSprite(Character, 100, 100)
})
